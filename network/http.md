# HTTP

## 계층구조


## IP(인터넷 프로토콜)
- 지정한 IP주소에 데이터 전달
- 패킷이라는 통신단위로 데이터 전달
- 한계
  - 비연결성 : 패킷을 받을 대상이 없거나 서비스 불능이어도 패킷 전달
  - 비신뢰성 : 패킷이 사라지거나 중간에 없어지는 경우(보통 패킷을 크기만큼 끊어서 전달함)
  - 구분 : 같은 IP를 사용하는 애플리케이션 둘 이상인 경우

## TCP UDP( IP문제의 해결 )
- IP패킷 안에 TCP정보가 들어감( ex : 전송제어 , 순서 , 검증정보 등.. )
- TCP(전송제어 프로토콜)
  - 연결지향 TCP 3 way handshake(연결을 하고 메세지를 보냄)
  - 데이터 전달 보증(누락)
  - 순서 보장
- UDP(사용자 데이터그램 프로토콜)
  - 기능이 거의 없음
  - IP와 거의 같음(+PORT, +checksum 정도 추가)
    - PORT : 같은 IP내에서 프로세스를 구분
  - 애플리케이션에서 추가작업이 필요함
  - 속도가 빠르다

## DNS
- IP는 변경될 수 있다.
- 도메인명을 IP주소로 변환

## URI? URL? URN?
### URI
  - Locator , name 또는 둘다 추가 분류 가능
### URL
  - Locator
### URN
  - name

## HTTP
  - 특징
    - 클라이언트 서버 구조
      - Request , Response 구조
      - 클라이언트와 서버를 분리 하는것이 중요
    - 무상태 프로토콜 , 비연결성
      - 서버가 클라이언트의 상태를 보존x
      - 응답 서버를 쉽게 바꿀수 있다 -> 무한한 서버 증설 가능
      - 여러개의 클라이언트가 한 서버에 접속할때 클라이언트 간의 연결을 끊음(자원을 최소화) 
    - HTTP 메세지
      - 요청 메시지와 응답 메시지의 구조가 다름 
    - 단순함 , 확장가능
  - 1.1 버전을 가장 많이 사용(대부분의 스펙이 다 들어있음)
  - HTTP(1.1 , 2) : TCP
  - HTTP(3) : UDP

## HTTP 메서드
  - ### API
    - ex) 회원 조회, 등록 등등.. 에서 '회원조회' 가 리소스가 아니라 '회원' 자체가 리소스 이다.
  - ### 메서드
    - GET : 리소스 조회
    - POST : 요청 데이터 처리 , 주로 등록에 사용
      - 무조건 등록만이 아닌 URI에 POST요청이 오면 리소스마다 데이터를 어떻게 처리할지 정해야 함
      - 서버에서 URI를 만들어줌(collection)
    - PUT : 리소스를 대체 , 해당 리소스가 없으면 생성
      - 완전대체
      - 클라이언트가 리소스의 위치를 알고 URI지정(POST와의 차이점)
    - PATCH : 리소스 부분 변경
    - DELETE : 리소스 삭제

## 상태코드
  - 1xx(Informational) : 요청이 처리중 
  - 2xx(Successful) : 요청 정상 처리
    - 200 OK 
    - 201 Created 새로운 리소스 생성
    - 202 Accepted 요청이 접수되었으나 처리가 완료가 안됨(ex batch)
    - 204 No Contents 요청을 성공적으로 했지만 보낼 데이터가 없음
  - 3xx(Redirection) : 요청을 완료하려면 추가 행동 필요
    - Redirect : 3xx 결과에 Location 헤더가 있으면 그 Location으로 자동 이동(영구, 일시, 특수(결과대신 캐시이용)) <br/>
    ex) 만약 /new 라는 곳으로 보냈는데 /new1로 바뀌면 보내주는 것
    - 영구 Redirection
      - 301 Moved Permanently 리다이렉트시 요청 메서드가 GET으로 변하고 본문이 제거 될 수 있음
      - 308 Permanent Rediret 301과 기능은 같으나 본문이 유지

    - 일시 Redirection(URI를 바꾸면 안됨)
      - 302 Found 리다이렉트시 요청 메서드가 GET으로 변하고 본문이 제거 될 수 있음
      - 303 See Other 명확하게 GET으로 바뀜
      - 307 Temporary Redirection 302와 기능은 같으나 본문을 
      __무조건__ 유지해야함
      - 304 Not Modified 캐시를 목적으로 사용(응답에 바디를 포함하면 안된다)
      - 새로고침을 할때 발생할 수 있음(중복이 될 수 있음)
  - 4xx(Client Error) : 클라이언트 오류
    - 오류의 원인이 클라이언트에 있음
    - 5xx 와의 차이점은 4xx는 수정해서 보내야 하고 5xx 는 클라이언트가 나중에 똑같은 요청을 보내도 성공할 수 있다.
    - 401 Unauthorized 클라이언트가 해당 리소스에 대해 인증이 필요함 
    - 403 Forbidden 서버가 요청을 했지만 거절(접근권한)
    - 404 Not Found 요청 리소스가 서버에 없음
  - 5xx(Server Error) : 서버 오류
    - 500 Internal Server Error 서버 내부 문제로 오류 발생
    - 503 Service Unavailable 서비스 이용 불가
      - 서버를 잠시 이용 불가
      - Retry-After 헤더 필드로 언제 복구 되는지 알려줄 수 있음

      
## HTTP Header
  




